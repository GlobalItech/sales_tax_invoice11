<?xml version="1.0" encoding="utf-8"?>

 <!-- <xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"> -->

<!-- <xsl:template match="/"> -->
<odoo>
<!-- <report 
        id="action_report_incentive" 
        model="hr.contribution.register" 
        string="Incentives"
        report_type="qweb-pdf"
        name="itech_incentive.report_incentive" 
        file="itech_incentive.report_incentive"
    /> -->
     
     <!-- <template id="report_header_custom" inherit_id="report.external_layout_header">
            <xpath expr="//div[@class='header']" position="replace">
                <div class ="header">
                    Your Code
                </div>
            </xpath>
        </template> -->
        <template id="sti_rep_header" inherit_id="web.internal_layout">
               <xpath expr="//div[@class='header']" position="replace">
                  <div class="header">
            <div class="row">
                <div class="col-3">
                    <!-- <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M')"/> -->
                </div>
                <div class="col-2 offset-2 text-center">
                 <!--    <span t-esc="company.name"/> -->
                </div>
                <div class="col-2 offset-3 text-right">
                    <!-- <ul class="list-inline">
                        <li class="list-inline-item"><span class="page"/></li>
                        <li class="list-inline-item">/</li>
                        <li class="list-inline-item"><span class="topage"/></li>
                    </ul> -->
                </div>
            </div>
        </div>
               
               </xpath>
        </template>   
        
<template id="report_lc">
    <!-- <t t-call="web.external_layout"> -->
        <!-- <t t-call="report.external_layout"> -->
    <t t-call="web.html_container">
            <t t-call="sales_tax_invoice.sti_rep_header">
            <div class="page">
            
              
        
        <!-- <template id="rep_account_header_use" inherit_id="">
             <xpath expr="//div[@class='header']" position="">
                <div class ="header">
                        Code
                </div>
            </xpath>
        </template> -->
<!--                <div class="row" style="margin-top : 60px;">-->
<!--                    <div class="col-xs-4 pull-left">-->
<!--                        <img t-if="res_company.logo" t-att-src="'data:image/png;base64,%s' % res_company.logo" style="height: 80px;"/>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="row" style="margin-top : 60px;">-->
<!--                    <div class="col-xs-12" >-->
<!--                    -->
<!--                    </div>-->
<!--                </div>-->
               
                
                <div class="row">
                    <div class="col-xs-3" style="border: 1px solid black;left:16px;">
                        <strong style="font-size: 18px;" align="center">Sales Tax Invoice</strong>
                        <!-- <span t-esc="datas"/> -->
                        <!-- <h1><span t-esc="account"/></h1>
                        <h1><span t-esc="customer"/></h1> -->
                    </div>
                    
                    <div class="col-xs-9" style="left:350px;">
                        <div class="col-xs-3" style="border: 1px solid black;width:15%;">
                            <strong style="font-size: 14px;">Original</strong>
                        </div>
                        <div class="col-xs-3" style="border: 1px solid black;width:16%;">
                            <strong style="font-size: 14px;">Duplicate</strong>
                        </div>
                        <div class="col-xs-3" style="border: 1px solid black;width:16%;">
                            <strong style="font-size: 14px;">Triplicate</strong>
                        </div>
                        
                    </div>
                </div>
                <div class="row" style="margin-top : 35px;">
                </div>
               
                <br></br>
                <div class="row">
                   
                    <div class="col-xs-4">
                        <div class="col-xs-2" style="position: relative; left: -18px;width:30%">
                            <strong style="font-size: 16px;">Serial No.</strong>
                        </div>
                        <div class="col-xs-2" style="position: relative;width:55%;left: 20px;display: table; top: 23px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;">
                            <t t-if="account.sal_tax_inv != False">
                                <span t-esc="account.sal_tax_inv"/> 
                            </t></strong>
                        </div>
                    </div>
                    <div class="col-xs-4" style="display: table;">
                        <div class="col-xs-2" style="position: relative; left: -18px;width:35%">
                            <strong style="font-size: 16px;">Date: </strong>
                        </div>
                        <div class="col-xs-2" style="width:35%;display: table;left: -78px;"><!-- account.date_invoice -->
                            <!-- year format -->
                            <t t-if="account.date_invoice !=0 ">
                                <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="datetime.datetime.strptime(account.date_invoice, '%Y-%m-%d').strftime('%d/%m/%Y')"/></strong>
                            </t>
                        </div>
                    </div>
                    <div class="col-xs-4" style="display: table;">
                        <div class="col-xs-2" style="position: relative; left: -175px;width:50%">
                             <strong style="font-size: 16px;">Sale Order #</strong>
                        </div>                                                                              
                        <!-- left 18px; -->
                         <div class="col-xs-2" style="position: absolute;width:73%;display: table;left: 18px; top: 20px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="account.origin"/></strong>
                        </div>
                    </div>
                    
                    
                    
                </div> <!--end of div-->
                <br></br>
                <div class="row" >
                    <div class="col-xs-6">
                        <div class="col-xs-3" style="position: relative;left: -18px;width:35%">
                            <strong style="font-size: 16px;">Supplier's Name</strong>
                        </div>
                        <div class="col-xs-3" style="width:65%;display: table;left:-74px; top : 13px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;">
                                <t t-if="datas.name !=' ' ">
                                    <span t-esc="datas.name"></span>
                                </t>
                            </strong>
                        </div>
                    </div>
                    
                    <div class="col-xs-6">
                        <div class="col-xs-3" style="position: relative;left: 25px;width:35%;">
                            <strong style="font-size: 16px;">Buyer's Name </strong>
                        </div>
                        <div class="col-xs-3" style="left: 0px;width:48%;display: table;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;">
                                <t t-if="account.partner_id.name !=' ' ">
                                    <span t-esc="account.partner_id.name"/>
                                </t>
                            </strong>
                        </div>
                    </div>
                </div>
                
                <br></br>
                <div class="row" >
                    <div class="col-xs-6">
                       <div class="col-xs-3" style="position: relative;left: -18px;width:35%">
                            <strong style="font-size: 16px;">Address</strong>
                        </div>
                        <div class="col-xs-3" style="width:60%;left:-60px;border: 1px solid black; top:3px;">
                        
                            <t t-if="datas.street != ' '">
                                <strong><u><span t-esc="datas.street"></span></u></strong>
                            </t>
                            <!-- 336-S Quaid-e-Azam Industrial -->
                            <!-- Estate kot Lakhpat -->
                            <br></br>
                            <t t-if="datas.street2 != ' ' ">
                                <strong><span t-esc="datas.street2"> </span> </strong>
                            </t>
                            <t t-if="datas.city !='' ">
                                <strong><span  t-esc="datas.city"> </span></strong>
                            </t>
                            <t t-if="datas.state_id.name !=' ' ">
                                <strong><span  t-esc="datas.state_id.name"> </span></strong>
                            </t>
                            <t t-if="datas.country_id.name != ' ' ">   
                                <strong><span t-esc="datas.country_id.name"> </span></strong>
                            </t>
                            <!-- t-if="datas.street" -->
                            <!-- 336-S Quaid-e-Azam Industrial -->
                            <!-- Estate kot Lakhpat,Lahore -->
                            <!-- <strong><u><span t-esc="datas.street"/></u></strong>
                            <br></br>
                            <strong><span t-esc="datas.street2"/></strong>
                            <strong><span t-esc="datas.city"/></strong> -->
                        </div>
                    </div>
                    
                    <div class="col-xs-6">
                       <div class="col-xs-3" style="position: relative;left:25px;width:35%">
                            <strong style="font-size: 16px;">Address: </strong>
                        </div>
                        <div class="col-xs-3" style="width:44%;left:10px;border: 1px solid black; top:3px;">
                            <t t-if="customer.street != '' ">
                                <strong><u><span t-esc="customer.street"/></u></strong>
                            </t>
                            <br></br>
                            <t t-if="customer.street2 != ' ' ">    
                                <strong><span t-esc="customer.street2"/></strong>
                            </t>
                            <t t-if="customer.city != ' ' ">    
                                <strong><span t-esc="customer.city"/></strong>
                            </t>
                        </div>
                    </div>
                </div>
                
                <!-- new div -->
                <br></br>
                <div class="row" >
                    <div class="col-xs-6">
                        <div class="col-xs-3" style="position: relative;left: -18px;width:35%">
                            <strong style="font-size: 16px;">Sales Tax No.</strong>
                        </div>
                         <div class="col-xs-3" style="width:65%;left:-74px;display: table; top: 16px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="datas.sales_tax_no"/></strong>
                        </div>
                    </div>
                    
                    <div class="col-xs-6">
                        <div class="col-xs-3" style="position: relative;left: 25px;width:35%">
                            <strong style="font-size: 16px;">Sales Tax No. </strong>
                        </div>
                        <!-- done -->
                         <div class="col-xs-3" style="display: table;position: relative;left:0px;width:48%; top: 16px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="customer.sales_tax_no"/></strong>
                        </div>
                    </div>
                </div>
                <!-- div end -->
                
                <!-- new div -->
                <br></br>
                <div class="row" >
                    <div class="col-xs-6">
                        <div class="col-xs-3" style="position: relative;left: -18px;width:35%">
                            <strong style="font-size: 16px;">National Tax No.</strong>
                        </div>
                       <div class="col-xs-3" style="width:65%;left:-74px;display: table; top: 16px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="datas.nat_tax_no"/></strong>
                        </div>
                    </div>
                    
                    <div class="col-xs-6">
                        <div class="col-xs-3" style="position: relative;left: 25px;width:40%">
                            <strong style="font-size: 16px;">National Tax No. </strong>
                        </div>
                        <div class="col-xs-3" style="display: table;position: relative;left:-30px;width:48%; top: 16px;">
                            <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="customer.nat_tax_no"/></strong>
                        </div>
                    </div>
                </div>
                <!-- div end -->
                <br></br>
                 <div class="row" >
                    <!-- <table class="table table-condensed fixed" style="width:70%;"> -->
                        <table class="table table-condensed fixed">
                            <thead>
                                <tr style="background-color:#FFCC99;">
                                    <td style="border: 1px solid black;font-size: 16px;" rowspan="2" align="center"><b> Sr.#</b></td>
                                    <!-- <td style="border: 1px solid black;font-size: 16px;" rowspan="2" align="center"><b>Product Code</b></td> -->
                                    <td style="border: 1px solid black;font-size: 16px; " rowspan="2" align="center"><b>Description</b></td>
                                    <!-- <td style="border: 1px solid black;font-size: 16px;" rowspan="2" align="center"><b>Colour</b></td> -->
                                    <td style="border: 1px solid black;font-size: 16px;" rowspan="2" align="center"><b>Quantity</b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" rowspan="2" align="center"><b>Rate</b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>Value<br> Exclusive of</br><br> Sales Tax</br></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>Sales <br>Tax Rate</br></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>Sales <br> Tax Payable</br></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" rowspan="2" align="center"><b>Discount</b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>Amount<br> including</br><br> Sales Tax</br></b></td>
                                    
                                </tr>
                                <tr style="background-color:#FFCC99;">
                                                                       
                                    <td style="border: 1px solid black;font-size: 16px;" align="center" ><b>Rupees</b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>%</b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>Rupees</b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b>Rupees</b></td>
                                
                                </tr>
                                
                                <!-- <tr>
                                    <td style="border: 1px solid black;" align="center" colspan="4"><b>Total</b></td>
                                    <td style="border: 1px solid black;" align="center"> </td>
                                    <td style="border: 1px solid black;" align="center"> </td>
                                    <td style="border: 1px solid black;" align="center"> </td>
                                    <td style="border: 1px solid black;" align="center"> </td>
                                    <td style="border: 1px solid black;" align="center"> </td>
                                    <td style="border: 1px solid black;" align="center"> </td>
                                    
                                </tr> -->
                            </thead>
                            <tbody>
                                <t t-set="serial" t-value="0"/>
                                <!-- <t t-foreach="datas" t-as="line"> -->
                                <t t-set="salesTax" t-value="0"/>
                                <t t-set="netTax" t-value="0"/>
                                <t t-set="stax" t-value="0"/>
                                
                                <t t-set="sest" t-value="0"/>
                               
                                 
                                <t t-foreach="table_data" t-as="r">
                                    <t t-set="serial" t-value="serial+1"/>
                                    <tr>
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="serial"/></td>
                                        <!-- <td style="border: 1px solid black;font-size: 16px;" ><span t-esc="r.product_id.default_code"/></td> -->
                                        <td style="border: 1px solid black;font-size: 16px;" >
                                            <!-- <span t-esc="r.product_id.name"/>
                                              -
                                            <span t-esc="(r.product_id.attribute_value_ids.name)"/> -->
                                            <span t-esc="r.name"/>
                                            
                                        </td>
                                        <!-- <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="r.product_id.color"/></td> -->
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="'{:,.0f}'.format(r.quantity)"/></td>
                                        <!-- rate -->
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="'{:,.2f}'.format(r.price_unit)"/></td>
                                        <!-- value exclusive tax = rate* qty -->
                                         <t t-set="qr" t-value="r.price_unit * r.quantity"/>
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="'{:,.2f}'.format(qr)"/></td>
                                        
                                        <!-- sum of value exclusive tax-->
                                        <t t-set="sest" t-value="sest+qr"/>
                                        
                                        <!-- tax -->
                                        <t t-set="rate" t-value="r.invoice_line_tax_ids"/>
                                        <t t-set="sum1" t-value="0"/>
                                        <t t-foreach="rate" t-as="t">
                                            <t t-set="sum1" t-value="sum1+t.amount"/>
                                            <t t-set="stax" t-value="stax + t.amount"/>
                                        </t>
                                         <td style="border: 1px solid black;font-size: 16px;" align="center">
                                             <t t-foreach="rate" t-as="t">
                                           
                                                <span t-esc="'{:,.2f}'.format(t.amount)"/>
                                                <br></br>
                                            </t>
                                        </td>                            
                                        <!-- total sales tax payable -->
                                        <t t-set="invoicetax" t-value="r.price_unit * sum1 * r.quantity "/>
                                        <!-- <t t-raw="sum1" /> -->
                                        <!-- <t t-raw="invoicetax" /> -->
                                        <t t-set="paas" t-value="(invoicetax/100)"/>
                                        <t t-set="ps" t-value="(paas*((r.discount)/100))"/>
                                        <t t-set="tsp_col" t-value="paas-ps"/>
                                        
                                        
                                        <!-- Sales Tax -->
                                        <t t-set="tsp" t-value="paas"/>
                                        <t t-set="salesTax" t-value="salesTax + tsp_col"/>
                                        
                                        <!-- <span t-esc="invoicetax"/> -->
                                        
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="'{:,.2f}'.format(tsp_col)"/></td>
                                        <!-- amount including tax -->
                                        <t t-set="tax" t-value="tsp+qr"/>
                                        <t t-set="dis" t-value="tax*((r.discount)/100)"/>
                                        <t t-set="res_total" t-value="tax-dis"/>
                                        
                                        
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><b><span t-esc="'{:,.2f}'.format(r.discount)"/></b></td>
                                        <t t-set="netTax" t-value="netTax+res_total"/>
                                        
                                        <td style="border: 1px solid black;font-size: 16px;" align="center"><span t-esc="'{:,.2f}'.format(res_total)"/></td>
                                        
                                        
                                    
                                    </tr>
                                </t>
                                <tr >
                                    <td colspan="2" style="border: 1px solid black;font-size: 16px;" align="center"><b>TOTAL</b></td>
                                    <t t-set="sqty" t-value="0"/>
                                    <t t-set="srate" t-value="0"/>
                                    
                                   
                                    <t t-foreach="table_data" t-as="r">
                                        
                                        <t t-set="sqty" t-value="sqty+r.quantity"/>
                                        <t t-set="srate" t-value="srate+r.price_unit"/>
                                       
                                        
                                    
                                    
                                    </t>
                                    
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b><span t-esc="'{:,.0f}'.format(sqty)"/></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b><!-- <span t-esc="'{:,.2f}'.format((srate))"/> --></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b><span t-esc="'{:,.2f}'.format(sest)"/></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b><!-- <span t-esc="'{:,.2f}'.format(stax)"/> --></b></td>
                                    
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b><span t-esc="'{:,.2f}'.format(salesTax)"/></b></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><span></span></td>
                                    <td style="border: 1px solid black;font-size: 16px;" align="center"><b><span t-esc="'{:,.2f}'.format(netTax)"/></b></td>
                                    
                                </tr>
                                
                            
                            </tbody>
                        </table>
                        <br></br>
                        <div class="row" >
                            <div class="col-xs-2">
                            </div>
                            <div class="col-xs-5">
                                <div class="col-xs-2" style="position: relative;left:100px;width:60%">
                                    <strong style="font-size: 16px;">Sales Tax (Rs.) </strong>
                                </div>
                                <div class="col-xs-3" style="display: table;width:40%">
                                    <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="'{:,.2f}'.format(salesTax)"/></strong>
                                </div>
                            </div>
                            <div class="col-xs-5">
                                <div class="col-xs-2" style="position: relative;left: -18px;width:34%">
                                    <strong style="font-size: 16px;">Signature: </strong>
                                </div>
                                
                                <div class="col-xs-3" style="width:66%">
                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <div style="position: relative;display: table;width:66%;left: -6px;">
                                        <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"></strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top : 35px;">
                        </div>
                        <div class="row" >
                            <div class="col-xs-2">
                            </div>
                            <div class="col-xs-5">
                                <div class="col-xs-2" style="display: table;position: relative;left: 100px;width:60%">
                                    <strong style="font-size: 16px;">Net Tax Inclusive Value </strong>
                                </div>
                                <div class="col-xs-3" style="display: table;width:40%;">
                                    <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span t-esc="'{:,.2f}'.format(netTax)"/></strong>
                                </div>
                            </div>
                            <div class="col-xs-5">
                                <div class="col-xs-2" style="position: relative;left: -18px;width:50%">
                                    <strong style="font-size: 16px;">Name and Designation: </strong>
                                </div>
                                
                                
                                <br></br>
                                <div class="col-xs-3" style="display: table;width:46%;left: -88px;">
                                    
                                     <strong style="display: table-cell; border-bottom: 1px solid black;font-size: 16px;"><span/></strong>  
                                   
                                </div>
                            </div>
                        </div>
                         <div class="row" >
                            <div class="col-xs-4">
                            
                            </div>
                            <div class="col-xs-4">
                                
                            </div>
                            <div class="col-xs-4" >
                                 <!-- <strong>Partner</strong>                                -->
                            </div>
                          
                            
                        </div>
                        <!-- <p>Sales Tax (Rs) <u> <span t-esc="salesTax"/> </u>   Signature: _______________________</p> -->
                        <!-- <p>Net Tax Inclusive Value <u><span t-esc="netTax"/> </u> Name and Designation  ________________________</p> -->
                
                </div>
                <div class="row" style="margin-top : 60px;">
                    
                    <div class="col-xs-6" >
                        <strong style="font-size: 16px;">Terms of Payment: </strong><span t-esc="account.payment_term_id.name"/>
                    </div>
                    
                </div>
                <div class="row" >
                    
                    <div class="col-xs-6" >
                        <strong style="font-size: 16px;">Note: </strong><span t-esc="account.comment"/>
                    </div>
                    
                </div>
                               
            </div>
        </t>
    
    </t>
    
</template>


        
</odoo>
